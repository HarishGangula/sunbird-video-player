{"version":3,"file":"project-sunbird-sunbird-video-player-v8.js","sources":["ng://@project-sunbird/sunbird-video-player-v8/lib/services/util.service.ts","ng://@project-sunbird/sunbird-video-player-v8/lib/sunbird-video-player.service.ts","ng://@project-sunbird/sunbird-video-player-v8/lib/services/viewer.service.ts","ng://@project-sunbird/sunbird-video-player-v8/lib/sunbird-video-player.component.ts","ng://@project-sunbird/sunbird-video-player-v8/lib/components/video-player/video-player.component.ts","ng://@project-sunbird/sunbird-video-player-v8/lib/sunbird-video-player.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UtilService {\n\n  public uniqueId(length = 32) {\n    let result = '';\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n    for (let i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n  }\n\n  public getTimeSpentText(duration) {\n    const minutes = Math.floor(duration / 60000);\n    const seconds = Number(((duration % 60000) / 1000).toFixed(0));\n    return (minutes + ':' + (seconds < 10 ? '0' : '') + seconds);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { PlayerConfig } from './playerInterfaces';\nimport { UtilService } from './services/util.service';\nimport { CsTelemetryModule } from '@project-sunbird/client-services/telemetry';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SunbirdVideoPlayerService {\n\n  private contentSessionId: string;\n  private playSessionId: string;\n  private telemetryObject: any;\n  private context;\n  public config;\n\n  constructor(private utilService: UtilService) {\n    this.contentSessionId = this.utilService.uniqueId();\n  }\n\n  public initialize({ context, config, metadata }: PlayerConfig) {\n    this.context = context;\n    this.config = config;\n    this.playSessionId = this.utilService.uniqueId();\n\n    if (!CsTelemetryModule.instance.isInitialised) {\n      CsTelemetryModule.instance.init({});\n      CsTelemetryModule.instance.telemetryService.initTelemetry(\n        {\n          config: {\n            pdata: context.pdata,\n            env: 'ContentPlayer',\n            channel: context.channel,\n            did: context.did,\n            authtoken: context.authToken || '',\n            uid: context.uid || '',\n            sid: context.sid,\n            batchsize: 20,\n            mode: context.mode,\n            host: context.host || '',\n            endpoint: context.endpoint || '/data/v3/telemetry',\n            tags: context.tags,\n            cdata: [{ id: this.contentSessionId, type: 'ContentSession' },\n            { id: this.playSessionId, type: 'PlaySession' }]\n          },\n          userOrgDetails: {}\n        }\n      );\n    }\n\n    this.telemetryObject = {\n      id: metadata.identifier,\n      type: 'Content',\n      ver: metadata.pkgVersion + '',\n      rollup: context.objectRollup || {}\n    };\n  }\n\n\n  public start(duration) {\n    CsTelemetryModule.instance.telemetryService.raiseStartTelemetry(\n      {\n        options: this.getEventOptions(),\n        edata: { type: 'content', mode: 'play', pageid: '', duration: Number((duration / 1e3).toFixed(2)) }\n      }\n    );\n\n  }\n\n  public end(duration, totallength, currentlength, endpageseen, totalseekedlength, visitedlength) {\n    const durationSec = Number((duration / 1e3).toFixed(2));\n    CsTelemetryModule.instance.telemetryService.raiseEndTelemetry({\n      edata: {\n        type: 'content',\n        mode: 'play',\n        pageid: 'sunbird-player-Endpage',\n        summary: [\n          {\n            progress: Number(((currentlength / totallength) * 100).toFixed(0))\n          },\n          {\n            totallength\n          },\n          {\n            visitedlength\n          },\n          {\n            visitedcontentend: (totallength === currentlength)\n          },\n          {\n            totalseekedlength\n          },\n          {\n            endpageseen\n          }\n        ],\n        duration: durationSec\n      },\n      options: this.getEventOptions()\n    });\n\n  }\n\n  public interact(id, currentPage) {\n    CsTelemetryModule.instance.telemetryService.raiseInteractTelemetry({\n      options: this.getEventOptions(),\n      edata: { type: 'TOUCH', subtype: '', id, pageid: currentPage + '' }\n    });\n  }\n\n  public heartBeat(data) {\n    CsTelemetryModule.instance.playerTelemetryService.onHeartBeatEvent(data, {});\n  }\n\n  public impression(currentPage) {\n    CsTelemetryModule.instance.telemetryService.raiseImpressionTelemetry({\n      options: this.getEventOptions(),\n      edata: { type: 'workflow', subtype: '', pageid: currentPage + '', uri: '' }\n    });\n  }\n\n  public error(errorCode: string , errorType:string ,  stacktrace?:Error) {\n    CsTelemetryModule.instance.telemetryService.raiseErrorTelemetry({\n      options: this.getEventOptions(),\n      edata: {\n        err: errorCode,\n        errtype: errorType,\n        stacktrace: (stacktrace && stacktrace.toString()) || ''\n      }\n    });\n  }\n\n  private getEventOptions() {\n    return ({\n      object: this.telemetryObject,\n      context: {\n        channel: this.context.channel,\n        pdata: this.context.pdata,\n        env: 'ContentPlayer',\n        sid: this.context.sid,\n        uid: this.context.uid,\n        cdata: [{ id: this.contentSessionId, type: 'ContentSession' },\n        { id: this.playSessionId, type: 'PlaySession' }],\n        rollup: this.context.contextRollup || {}\n      }\n    });\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { EventEmitter, Injectable } from '@angular/core';\nimport { PlayerConfig } from '../playerInterfaces';\nimport { SunbirdVideoPlayerService } from '../sunbird-video-player.service';\nimport { UtilService } from './util.service';\nimport { errorCode , errorMessage } from '@project-sunbird/sunbird-player-sdk-v8';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ViewerService {\n\n  public endPageSeen = false;\n  public timeSpent = '0:0';\n  private version = '1.0';\n  public playerEvent = new EventEmitter<any>();\n  public contentName: string;\n  public showDownloadPopup: boolean;\n  public streamingUrl: string;\n  public mimeType: string;\n  public artifactMimeType: string;\n  public userName: string;\n  public metaData: any;\n  public PlayerLoadStartedAt: number;\n  public totalLength;\n  public currentlength;\n  public totalSeekedLength;\n  public artifactUrl;\n  public visitedLength;\n  public sidebarMenuEvent = new EventEmitter<any>();\n  public traceId: string;\n  public isAvailableLocally = false;\n  private markers: any;\n\n\n  constructor(private videoPlayerService: SunbirdVideoPlayerService,\n    private utilService: UtilService,\n    private http: HttpClient) {\n    this.PlayerLoadStartedAt = new Date().getTime();\n  }\n\n  initialize({ context, config, metadata }: PlayerConfig) {\n    this.contentName = metadata.name;\n    this.streamingUrl = metadata.streamingUrl;\n    this.artifactUrl = metadata.artifactUrl;\n    this.mimeType = metadata.streamingUrl ? 'application/x-mpegURL' : metadata.mimeType;\n    this.artifactMimeType = metadata.mimeType;\n    this.isAvailableLocally = metadata.isAvailableLocally;\n    this.traceId = config.traceId;\n    this.markers = config.markers;\n    if (context.userData) {\n      const { userData: { firstName, lastName } } = context;\n      this.userName = firstName === lastName ? firstName : `${firstName} ${lastName}`;\n    }\n    this.metaData = {\n      actions: [\n      ],\n      volume: [],\n      playBackSpeeds: [],\n      totalDuration: 0\n    };\n    this.showDownloadPopup = false;\n    this.endPageSeen = false;\n  }\n\n  async getPlayerOptions() {\n    if (!this.streamingUrl) {\n      return [{ src: this.artifactUrl, type: this.artifactMimeType }];\n    } else {\n      const data = await this.http.head(this.streamingUrl, { responseType: 'blob' }).toPromise().catch(error => {\n        this.raiseExceptionLog(errorCode.streamingUrlSupport , errorMessage.streamingUrlSupport , new Error(`Streaming Url Not Supported  ${this.streamingUrl}`), this.traceId);\n      });\n      if (data) {\n        return [{ src: this.streamingUrl, type: this.mimeType }];\n      } else {\n        return [{ src: this.artifactUrl, type: this.artifactMimeType }];\n      }\n    }\n  }\n  getMarkers() {\n    return this.markers;\n  }\n\n\n  public pageSessionUpdate() {\n\n  }\n\n  raiseStartEvent(event) {\n    const duration = new Date().getTime() - this.PlayerLoadStartedAt;\n    const startEvent = {\n      eid: 'START',\n      ver: this.version,\n      edata: {\n        type: 'START',\n        mode: 'play',\n        duration\n      },\n      metaData: this.metaData\n    };\n    this.playerEvent.emit(startEvent);\n    this.videoPlayerService.start(duration);\n    this.PlayerLoadStartedAt = new Date().getTime();\n  }\n\n  raiseEndEvent() {\n    const duration = new Date().getTime() - this.PlayerLoadStartedAt;\n    const endEvent = {\n      eid: 'END',\n      ver: this.version,\n      edata: {\n        type: 'END',\n        currentTime: this.currentlength,\n        totalTime: this.totalLength,\n        duration\n      },\n      metaData: this.metaData\n    };\n    this.playerEvent.emit(endEvent);\n    this.timeSpent = this.utilService.getTimeSpentText(this.visitedLength);\n    this.videoPlayerService.end(duration, this.totalLength, this.currentlength, this.endPageSeen, this.totalSeekedLength,\n      this.visitedLength / 1000);\n  }\n\n\n  raiseHeartBeatEvent(type: string) {\n    const hearBeatEvent = {\n      eid: 'HEARTBEAT',\n      ver: this.version,\n      edata: {\n        type,\n        currentPage: 'videostage'\n      },\n      metaData: this.metaData\n    };\n    this.playerEvent.emit(hearBeatEvent);\n    this.videoPlayerService.heartBeat(hearBeatEvent);\n    const interactItems = ['PLAY', 'PAUSE', 'EXIT', 'VOLUME_CHANGE', 'DRAG',\n      'RATE_CHANGE', 'CLOSE_DOWNLOAD', 'DOWNLOAD', 'NAVIGATE_TO_PAGE',\n      'NEXT', 'OPEN_MENU', 'PREVIOUS', 'CLOSE_MENU', 'DOWNLOAD_MENU',\n      'SHARE', 'REPLAY', 'FORWARD', 'BACKWARD', 'FULLSCREEN' , 'NEXT_CONTENT_PLAY'\n    ];\n    if (interactItems.includes(type)) {\n      this.videoPlayerService.interact(type.toLowerCase(), 'videostage');\n    }\n\n  }\n\n  raiseExceptionLog(errorCode: string, errorType: string, stacktrace, traceId) {\n    const exceptionLogEvent = {\n      eid: 'ERROR',\n      edata: {\n        err: errorCode,\n        errtype: errorType,\n        requestid: traceId || '',\n        stacktrace: (stacktrace && stacktrace.toString()) || '',\n      }\n    };\n    this.playerEvent.emit(exceptionLogEvent);\n    this.videoPlayerService.error(errorCode , errorType , stacktrace);\n  }\n\n}\n","import {\n  ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output,\n  HostListener, ElementRef, ViewChild, AfterViewInit, Renderer2, OnDestroy\n} from '@angular/core';\nimport { ErrorService , errorCode , errorMessage } from '@project-sunbird/sunbird-player-sdk-v8';\nimport { Observable, Subscription } from 'rxjs';\n\nimport { PlayerConfig } from './playerInterfaces';\nimport { ViewerService } from './services/viewer.service';\nimport { SunbirdVideoPlayerService } from './sunbird-video-player.service';\n@Component({\n  selector: 'sunbird-video-player',\n  templateUrl: './sunbird-video-player.component.html',\n  styleUrls: ['./sunbird-video-player.component.scss']\n})\nexport class SunbirdVideoPlayerComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  @Input() playerConfig: PlayerConfig;\n  @Input() events: Observable<{action: string, data: any}>\n  @Output() playerEvent: EventEmitter<object>;\n  @Output() telemetryEvent: EventEmitter<any> = new EventEmitter<any>();\n  @ViewChild('videoPlayer', { static: true }) videoPlayerRef: ElementRef;\n  viewState = 'player';\n  public traceId: string;\n  public nextContent: any;\n  showContentError: boolean;\n  showControls = true;\n  sideMenuConfig = {\n    showShare: true,\n    showDownload: true,\n    showReplay: true,\n    showExit: true\n  };\n  private unlistenTouchStart: () => void;\n  private unlistenMouseMove: () => void;\n  isPaused = false;\n  \n\n  constructor(\n    public videoPlayerService: SunbirdVideoPlayerService,\n    public viewerService: ViewerService,\n    public cdr: ChangeDetectorRef,\n    private renderer2: Renderer2,\n    public errorService: ErrorService\n  ) {\n    this.playerEvent = this.viewerService.playerEvent;\n    this.viewerService.playerEvent.subscribe(event => {\n      if(event.type === 'pause') {\n        this.isPaused = true;\n        this.showControls = true;\n      }\n      if(event.type === 'play') {\n        this.isPaused = false;\n      }\n      if (event.type === 'loadstart') {\n        this.viewerService.raiseStartEvent(event);\n      }\n      if (event.type === 'ended') {\n        this.viewerService.endPageSeen = true;\n        this.viewerService.raiseEndEvent();\n        this.viewState = 'end';\n      }\n      if (event.type === 'error') {\n        let code = errorCode.contentLoadFails,\n          message = errorMessage.contentLoadFails\n\n        if (!navigator.onLine) {\n            code = errorCode.internetConnectivity,\n            message = errorMessage.internetConnectivity\n        }\n        if (this.viewerService.isAvailableLocally) {\n            code = errorCode.contentLoadFails,\n            message = errorMessage.contentLoadFails\n        }\n        if (code === errorCode.contentLoadFails) {\n          this.showContentError = true;\n        }\n        this.viewerService.raiseExceptionLog(code, message, event, this.traceId);\n\n      }\n      const events = [{ type: 'volumechange', telemetryEvent: 'VOLUME_CHANGE' }, { type: 'seeking', telemetryEvent: 'DRAG' }, { type: 'fullscreen', telemetryEvent: 'FULLSCREEN' },\n      { type: 'ratechange', telemetryEvent: 'RATE_CHANGE' }];\n      events.forEach(data => {\n        if (event.type === data.type) {\n          this.viewerService.raiseHeartBeatEvent(data.telemetryEvent);\n        }\n      });\n    });\n  }\n\n  @HostListener('document:TelemetryEvent', ['$event'])\n  onTelemetryEvent(event) {\n    this.telemetryEvent.emit(event.detail);\n  }\n\n  ngOnInit() {\n    setInterval(() => {\n      if (!this.isPaused) {\n        this.showControls = false;\n      }\n    }, 5000);\n\n    /* tslint:disable:no-string-literal */\n    this.nextContent = this.playerConfig.config.nextContent;\n    this.traceId = this.playerConfig.config['traceId'];\n    this.sideMenuConfig = { ...this.sideMenuConfig, ...this.playerConfig.config.sideMenu };\n    this.viewerService.initialize(this.playerConfig);\n    this.videoPlayerService.initialize(this.playerConfig);\n\n\n  }\n\n  sidebarMenuEvent(event) {\n    this.viewerService.sidebarMenuEvent.emit(event);\n  }\n\n  ngAfterViewInit() {\n    const videoPlayerElement = this.videoPlayerRef.nativeElement;\n    this.unlistenMouseMove = this.renderer2.listen(videoPlayerElement, 'mousemove', () => {\n      this.showControls = true;\n    });\n\n    this.unlistenTouchStart = this.renderer2.listen(videoPlayerElement, 'touchstart', () => {\n      this.showControls = true;\n    });\n\n    const contentCompabilityLevel = this.playerConfig.metadata['compatibilityLevel'];\n    if (contentCompabilityLevel) {\n      const checkContentCompatible = this.errorService.checkContentCompatibility(contentCompabilityLevel);\n      if (!checkContentCompatible['isCompitable']) {\n        this.viewerService.raiseExceptionLog(errorCode.contentCompatibility, errorMessage.contentCompatibility, checkContentCompatible['error']['message'], this.traceId);\n      }\n    }\n  }\n\n  sideBarEvents(event) {\n    this.playerEvent.emit(event);\n    if (event === 'DOWNLOAD') {\n      this.downloadVideo();\n    }\n    const events = ['SHARE', 'DOWNLOAD_MENU', 'EXIT', 'CLOSE_MENU'];\n    events.forEach(data => {\n      if (event === data) {\n        this.viewerService.raiseHeartBeatEvent(data);\n      }\n      if (event === 'EXIT') {\n        this.viewerService.sidebarMenuEvent.emit('CLOSE_MENU');\n      }\n    });\n  }\n\n  playContent(event){\n    this.viewerService.raiseHeartBeatEvent(event.type);\n  }\n\n  replayContent(event) {\n    this.playerEvent.emit(event);\n    this.viewState = 'player';\n    this.viewerService.raiseHeartBeatEvent('REPLAY');\n  }\n\n  exitContent(event) {\n    this.playerEvent.emit(event);\n    this.viewerService.raiseHeartBeatEvent('EXIT');\n  }\n\n  downloadVideo() {\n    const a = document.createElement('a');\n    a.href = this.viewerService.artifactUrl;\n    a.download = this.viewerService.contentName;\n    a.target = '_blank';\n    document.body.appendChild(a);\n    a.click();\n    a.remove();\n    this.viewerService.raiseHeartBeatEvent('DOWNLOAD');\n  }\n\n  @HostListener('window:beforeunload')\n  ngOnDestroy() {\n    this.viewerService.raiseEndEvent();\n    this.unlistenTouchStart();\n    this.unlistenMouseMove();\n  }\n}\n","import { AfterViewInit, Component, ElementRef, Renderer2, ViewChild, ViewEncapsulation, OnDestroy, Input } from '@angular/core';\nimport { Observable, Subscription } from 'rxjs';\nimport { ViewerService } from '../../services/viewer.service';\n\n@Component({\n  selector: 'video-player',\n  templateUrl: './video-player.component.html',\n  styleUrls: ['./video-player.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class VideoPlayerComponent implements AfterViewInit, OnDestroy {\n  showBackwardButton = false;\n  showForwardButton = false;\n  showPlayButton = true;\n  showPauseButton = false;\n  showControls = true;\n  currentPlayerState = 'none';\n  private unlistenTargetMouseMove: () => void;\n  private unlistenTargetTouchStart: () => void;\n  @Input() events: Observable<any>\n  @ViewChild('target', { static: true }) target: ElementRef;\n  @ViewChild('controlDiv', { static: true }) controlDiv: ElementRef;\n  player: any;\n  totalSeekedLength = 0;\n  previousTime = 0;\n  currentTime = 0;\n  seekStart = null;\n  time = 10;\n  startTime;\n  totalSpentTime = 0;\n  isAutoplayPrevented = false;\n  private eventsSubscription: Subscription;\n\n  constructor(public viewerService: ViewerService, private renderer2: Renderer2) { }\n\n  ngAfterViewInit() {\n    this.viewerService.getPlayerOptions().then(options => {\n      this.player = videojs(this.target.nativeElement, {\n        fluid: true,\n        sources: options,\n        autoplay: true,\n        playbackRates: [0.5, 1, 1.5, 2],\n        controlBar: {\n          children: ['playToggle', 'volumePanel', 'durationDisplay', \n            'progressControl', 'remainingTimeDisplay',\n            'playbackRateMenuButton', 'fullscreenToggle']\n        }\n      }, function onLoad() {\n\n      });\n      this.player.markers(this.viewerService.getMarkers())\n      this.registerEvents();\n    });\n\n    setInterval(() => {\n      if (!this.isAutoplayPrevented && this.currentPlayerState !== 'pause') {\n        this.showControls = false;\n      }\n    }, 5000);\n\n    this.unlistenTargetMouseMove = this.renderer2.listen(this.target.nativeElement, 'mousemove', () => {\n      this.showControls = true;\n    });\n    this.unlistenTargetTouchStart = this.renderer2.listen(this.target.nativeElement, 'touchstart', () => {\n      this.showControls = true;\n    });\n\n    this.viewerService.sidebarMenuEvent.subscribe(event => {\n      if (event === 'OPEN_MENU') { this.pause(); }\n      if (event === 'CLOSE_MENU') { this.play(); }\n    });\n\n    this.eventsSubscription = this.events.subscribe(({action, data}) => {\n      if(action === 'play') {\n        this.play();\n      } else if(action === 'pause') {\n        this.pause();\n      } else if(action === 'seekTo') {\n        this.player.currentTime(data.seconds)\n      }\n    });\n  }\n\n  registerEvents() {\n    const promise = this.player.play();\n    if (promise !== undefined) {\n      promise.catch(error => {\n        this.isAutoplayPrevented = true;\n      });\n    }\n\n    const events = ['loadstart', 'play', 'pause', 'durationchange',\n      'error', 'playing', 'progress', 'seeked', 'seeking', 'volumechange',\n      'ratechange'];\n\n    this.player.on('fullscreenchange', (data) => {\n      // This code is to show the controldiv in fullscreen mode\n      if(this.player.isFullscreen()) {\n        this.target.nativeElement.parentNode.appendChild(this.controlDiv.nativeElement);\n      }\n      this.viewerService.raiseHeartBeatEvent('FULLSCREEN');\n    })\n\n    this.player.on('pause', (data) => {\n      this.pause();\n    });\n\n    this.player.on('play', (data) => {\n      this.currentPlayerState = 'play';\n      this.showPauseButton = true;\n      this.showPlayButton = false;\n      this.viewerService.raiseHeartBeatEvent('PLAY');\n      this.isAutoplayPrevented = false;\n    });   \n\n    this.player.on('timeupdate', (data) => {\n      this.handleVideoControls(data);\n      this.viewerService.playerEvent.emit(data);\n      if (this.player.currentTime() === this.player.duration()) {\n        this.handleVideoControls({ type: 'ended' });\n        this.viewerService.playerEvent.emit({ type: 'ended' });\n      }\n    });\n    events.forEach(event => {\n      this.player.on(event, (data) => {\n        this.handleVideoControls(data);\n        this.viewerService.playerEvent.emit(data);\n      });\n    });\n\n  }\n\n  toggleForwardRewindButton() {\n    this.showForwardButton = true;\n    this.showBackwardButton = true;\n    if ((this.player.currentTime() + this.time) > this.player.duration()) {\n      this.showForwardButton = false;\n    }\n    if ((this.player.currentTime() - this.time) < 0) {\n      this.showBackwardButton = false;\n    }\n  }\n\n  play() {\n    this.player.play();\n    this.currentPlayerState = 'play';\n    this.showPauseButton = true;\n    this.showPlayButton = false;\n    this.toggleForwardRewindButton();\n  }\n\n  pause() {\n    this.player.pause();\n    this.currentPlayerState = 'pause';\n    this.showPauseButton = false;\n    this.showPlayButton = true;\n    this.toggleForwardRewindButton();\n    this.viewerService.raiseHeartBeatEvent('PAUSE');\n  }\n\n  backward() {\n    this.player.currentTime(this.player.currentTime() - this.time);\n    this.toggleForwardRewindButton();\n    this.viewerService.raiseHeartBeatEvent('BACKWARD');\n  }\n\n  forward() {\n    this.player.currentTime(this.player.currentTime() + this.time);\n    this.toggleForwardRewindButton();\n    this.viewerService.raiseHeartBeatEvent('FORWARD');\n  }\n\n  handleVideoControls({ type }) {\n    if (type === 'playing') {\n      this.showPlayButton = false;\n      this.showPauseButton = true;\n    }\n    if (type === 'ended') {\n      this.totalSpentTime += new Date().getTime() - this.startTime;\n      this.viewerService.visitedLength = this.totalSpentTime;\n      this.viewerService.currentlength = this.player.currentTime();\n      this.viewerService.totalLength = this.player.duration();\n      this.updatePlayerEventsMetadata({ type });\n    }\n    if (type === 'pause') {\n      this.totalSpentTime += new Date().getTime() - this.startTime;\n      this.updatePlayerEventsMetadata({ type });\n    }\n    if (type === 'play') {\n      this.startTime = new Date().getTime();\n      this.updatePlayerEventsMetadata({ type });\n    }\n\n    if (type === 'loadstart') {\n      this.startTime = new Date().getTime();\n    }\n\n    // Calulating total seeked length\n    if (type === 'timeupdate') {\n      this.previousTime = this.currentTime;\n      this.currentTime = this.player.currentTime();\n      this.toggleForwardRewindButton();\n    }\n    if (type === 'seeking') {\n      if (this.seekStart === null) { this.seekStart = this.previousTime; }\n    }\n    if (type === 'seeked') {\n      this.updatePlayerEventsMetadata({ type });\n      if (this.currentTime > this.seekStart) {\n        this.totalSeekedLength = this.totalSeekedLength + (this.currentTime - this.seekStart);\n      } else if (this.seekStart > this.currentTime) {\n        this.totalSeekedLength = this.totalSeekedLength + (this.seekStart - this.currentTime);\n      }\n      this.viewerService.totalSeekedLength = this.totalSeekedLength;\n      this.seekStart = null;\n    }\n  }\n\n  updatePlayerEventsMetadata({ type }) {\n    this.viewerService.metaData.totalDuration = this.player.duration();\n    this.viewerService.metaData.playBackSpeeds.push(this.player.playbackRate());\n    this.viewerService.metaData.volume.push(this.player.volume());\n    const action = {};\n    action[type + ''] = this.player.currentTime();\n    this.viewerService.metaData.actions.push(action);\n  }\n  ngOnDestroy() {\n    if (this.player) {\n      this.player.dispose();\n    }\n    this.unlistenTargetMouseMove();\n    this.unlistenTargetTouchStart();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { SunbirdPlayerSdkModule  } from '@project-sunbird/sunbird-player-sdk-v8';\nimport { SunbirdVideoPlayerComponent } from './sunbird-video-player.component';\nimport { VideoPlayerComponent } from './components/video-player/video-player.component';\nimport { HttpClientModule } from '@angular/common/http';\n\n@NgModule({\n  declarations: [SunbirdVideoPlayerComponent, VideoPlayerComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    HttpClientModule,\n    SunbirdPlayerSdkModule\n  ],\n  exports: [SunbirdVideoPlayerComponent , SunbirdPlayerSdkModule]\n})\nexport class SunbirdVideoPlayerModule { }\n"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;IAEA;KAoBC;;;;;IAfQ,8BAAQ;;;;IAAf,UAAgB,MAAW;QAAX,uBAAA,EAAA,WAAW;;YACrB,MAAM,GAAG,EAAE;;YACT,UAAU,GAAG,gEAAgE;;YAC7E,gBAAgB,GAAG,UAAU,CAAC,MAAM;QAC1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;YAC/B,MAAM,IAAI,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,gBAAgB,CAAC,CAAC,CAAC;SAC3E;QACD,OAAO,MAAM,CAAC;KACf;;;;;IAEM,sCAAgB;;;;IAAvB,UAAwB,QAAQ;;YACxB,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;;YACtC,OAAO,GAAG,MAAM,CAAC,CAAC,CAAC,QAAQ,GAAG,KAAK,IAAI,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;QAC9D,QAAQ,OAAO,GAAG,GAAG,IAAI,OAAO,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC,GAAG,OAAO,EAAE;KAC9D;;gBAnBF,UAAU,SAAC;oBACV,UAAU,EAAE,MAAM;iBACnB;;;sBAJD;CAEA;;;;;;ACFA;IAgBE,mCAAoB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAC1C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;KACrD;;;;;IAEM,8CAAU;;;;IAAjB,UAAkB,EAA2C;YAAzC,oBAAO,EAAE,kBAAM,EAAE,sBAAQ;QAC3C,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;QAEjD,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,aAAa,EAAE;YAC7C,iBAAiB,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACpC,iBAAiB,CAAC,QAAQ,CAAC,gBAAgB,CAAC,aAAa,CACvD;gBACE,MAAM,EAAE;oBACN,KAAK,EAAE,OAAO,CAAC,KAAK;oBACpB,GAAG,EAAE,eAAe;oBACpB,OAAO,EAAE,OAAO,CAAC,OAAO;oBACxB,GAAG,EAAE,OAAO,CAAC,GAAG;oBAChB,SAAS,EAAE,OAAO,CAAC,SAAS,IAAI,EAAE;oBAClC,GAAG,EAAE,OAAO,CAAC,GAAG,IAAI,EAAE;oBACtB,GAAG,EAAE,OAAO,CAAC,GAAG;oBAChB,SAAS,EAAE,EAAE;oBACb,IAAI,EAAE,OAAO,CAAC,IAAI;oBAClB,IAAI,EAAE,OAAO,CAAC,IAAI,IAAI,EAAE;oBACxB,QAAQ,EAAE,OAAO,CAAC,QAAQ,IAAI,oBAAoB;oBAClD,IAAI,EAAE,OAAO,CAAC,IAAI;oBAClB,KAAK,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,EAAE,gBAAgB,EAAE;wBAC7D,EAAE,EAAE,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC;iBACjD;gBACD,cAAc,EAAE,EAAE;aACnB,CACF,CAAC;SACH;QAED,IAAI,CAAC,eAAe,GAAG;YACrB,EAAE,EAAE,QAAQ,CAAC,UAAU;YACvB,IAAI,EAAE,SAAS;YACf,GAAG,EAAE,QAAQ,CAAC,UAAU,GAAG,EAAE;YAC7B,MAAM,EAAE,OAAO,CAAC,YAAY,IAAI,EAAE;SACnC,CAAC;KACH;;;;;IAGM,yCAAK;;;;IAAZ,UAAa,QAAQ;QACnB,iBAAiB,CAAC,QAAQ,CAAC,gBAAgB,CAAC,mBAAmB,CAC7D;YACE,OAAO,EAAE,IAAI,CAAC,eAAe,EAAE;YAC/B,KAAK,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC,QAAQ,GAAG,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE;SACpG,CACF,CAAC;KAEH;;;;;;;;;;IAEM,uCAAG;;;;;;;;;IAAV,UAAW,QAAQ,EAAE,WAAW,EAAE,aAAa,EAAE,WAAW,EAAE,iBAAiB,EAAE,aAAa;;YACtF,WAAW,GAAG,MAAM,CAAC,CAAC,QAAQ,GAAG,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;QACvD,iBAAiB,CAAC,QAAQ,CAAC,gBAAgB,CAAC,iBAAiB,CAAC;YAC5D,KAAK,EAAE;gBACL,IAAI,EAAE,SAAS;gBACf,IAAI,EAAE,MAAM;gBACZ,MAAM,EAAE,wBAAwB;gBAChC,OAAO,EAAE;oBACP;wBACE,QAAQ,EAAE,MAAM,CAAC,CAAC,CAAC,aAAa,GAAG,WAAW,IAAI,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;qBACnE;oBACD;wBACE,WAAW,aAAA;qBACZ;oBACD;wBACE,aAAa,eAAA;qBACd;oBACD;wBACE,iBAAiB,GAAG,WAAW,KAAK,aAAa,CAAC;qBACnD;oBACD;wBACE,iBAAiB,mBAAA;qBAClB;oBACD;wBACE,WAAW,aAAA;qBACZ;iBACF;gBACD,QAAQ,EAAE,WAAW;aACtB;YACD,OAAO,EAAE,IAAI,CAAC,eAAe,EAAE;SAChC,CAAC,CAAC;KAEJ;;;;;;IAEM,4CAAQ;;;;;IAAf,UAAgB,EAAE,EAAE,WAAW;QAC7B,iBAAiB,CAAC,QAAQ,CAAC,gBAAgB,CAAC,sBAAsB,CAAC;YACjE,OAAO,EAAE,IAAI,CAAC,eAAe,EAAE;YAC/B,KAAK,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE,EAAE,IAAA,EAAE,MAAM,EAAE,WAAW,GAAG,EAAE,EAAE;SACpE,CAAC,CAAC;KACJ;;;;;IAEM,6CAAS;;;;IAAhB,UAAiB,IAAI;QACnB,iBAAiB,CAAC,QAAQ,CAAC,sBAAsB,CAAC,gBAAgB,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;KAC9E;;;;;IAEM,8CAAU;;;;IAAjB,UAAkB,WAAW;QAC3B,iBAAiB,CAAC,QAAQ,CAAC,gBAAgB,CAAC,wBAAwB,CAAC;YACnE,OAAO,EAAE,IAAI,CAAC,eAAe,EAAE;YAC/B,KAAK,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,EAAE,EAAE,MAAM,EAAE,WAAW,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;SAC5E,CAAC,CAAC;KACJ;;;;;;;IAEM,yCAAK;;;;;;IAAZ,UAAa,SAAiB,EAAG,SAAgB,EAAI,UAAiB;QACpE,iBAAiB,CAAC,QAAQ,CAAC,gBAAgB,CAAC,mBAAmB,CAAC;YAC9D,OAAO,EAAE,IAAI,CAAC,eAAe,EAAE;YAC/B,KAAK,EAAE;gBACL,GAAG,EAAE,SAAS;gBACd,OAAO,EAAE,SAAS;gBAClB,UAAU,EAAE,CAAC,UAAU,IAAI,UAAU,CAAC,QAAQ,EAAE,KAAK,EAAE;aACxD;SACF,CAAC,CAAC;KACJ;;;;;IAEO,mDAAe;;;;IAAvB;QACE,QAAQ;YACN,MAAM,EAAE,IAAI,CAAC,eAAe;YAC5B,OAAO,EAAE;gBACP,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO;gBAC7B,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK;gBACzB,GAAG,EAAE,eAAe;gBACpB,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG;gBACrB,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG;gBACrB,KAAK,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,EAAE,gBAAgB,EAAE;oBAC7D,EAAE,EAAE,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC;gBAChD,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,EAAE;aACzC;SACF,EAAE;KACJ;;gBA7IF,UAAU,SAAC;oBACV,UAAU,EAAE,MAAM;iBACnB;;;;gBALQ,WAAW;;;oCAFpB;CAKA,IA8IC;;;;;;IAzIC,qDAAiC;;;;;IACjC,kDAA8B;;;;;IAC9B,oDAA6B;;;;;IAC7B,4CAAgB;;IAChB,2CAAc;;;;;IAEF,gDAAgC;;;;;;;;ICmB5C,uBAAoB,kBAA6C,EACvD,WAAwB,EACxB,IAAgB;QAFN,uBAAkB,GAAlB,kBAAkB,CAA2B;QACvD,gBAAW,GAAX,WAAW,CAAa;QACxB,SAAI,GAAJ,IAAI,CAAY;QAzBnB,gBAAW,GAAG,KAAK,CAAC;QACpB,cAAS,GAAG,KAAK,CAAC;QACjB,YAAO,GAAG,KAAK,CAAC;QACjB,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QActC,qBAAgB,GAAG,IAAI,YAAY,EAAO,CAAC;QAE3C,uBAAkB,GAAG,KAAK,CAAC;QAOhC,IAAI,CAAC,mBAAmB,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;KACjD;;;;;IAED,kCAAU;;;;IAAV,UAAW,EAA2C;YAAzC,oBAAO,EAAE,kBAAM,EAAE,sBAAQ;QACpC,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,IAAI,CAAC;QACjC,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,YAAY,CAAC;QAC1C,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,CAAC;QACxC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,YAAY,GAAG,uBAAuB,GAAG,QAAQ,CAAC,QAAQ,CAAC;QACpF,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,QAAQ,CAAC;QAC1C,IAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC,kBAAkB,CAAC;QACtD,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;QAC9B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;QAC9B,IAAI,OAAO,CAAC,QAAQ,EAAE;YACZ,IAAA,qBAAiC,EAArB,wBAAS,EAAE,sBAAU;YACzC,IAAI,CAAC,QAAQ,GAAG,SAAS,KAAK,QAAQ,GAAG,SAAS,GAAM,SAAS,SAAI,QAAU,CAAC;SACjF;QACD,IAAI,CAAC,QAAQ,GAAG;YACd,OAAO,EAAE,EACR;YACD,MAAM,EAAE,EAAE;YACV,cAAc,EAAE,EAAE;YAClB,aAAa,EAAE,CAAC;SACjB,CAAC;QACF,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;KAC1B;;;;IAEK,wCAAgB;;;IAAtB;;;;;;;6BACM,CAAC,IAAI,CAAC,YAAY,EAAlB,wBAAkB;wBACpB,sBAAO,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,gBAAgB,EAAE,CAAC,EAAC;4BAEnD,qBAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE,YAAY,EAAE,MAAM,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,KAAK;;;;wBAAC,UAAA,KAAK;4BACpG,KAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,mBAAmB,EAAG,YAAY,CAAC,mBAAmB,EAAG,IAAI,KAAK,CAAC,kCAAgC,KAAI,CAAC,YAAc,CAAC,EAAE,KAAI,CAAC,OAAO,CAAC,CAAC;yBACzK,EAAC,EAAA;;wBAFI,IAAI,GAAG,SAEX;wBACF,IAAI,IAAI,EAAE;4BACR,sBAAO,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,EAAC;yBAC1D;6BAAM;4BACL,sBAAO,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,gBAAgB,EAAE,CAAC,EAAC;yBACjE;;;;;;KAEJ;;;;IACD,kCAAU;;;IAAV;QACE,OAAO,IAAI,CAAC,OAAO,CAAC;KACrB;;;;IAGM,yCAAiB;;;IAAxB;KAEC;;;;;IAED,uCAAe;;;;IAAf,UAAgB,KAAK;;YACb,QAAQ,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,mBAAmB;;YAC1D,UAAU,GAAG;YACjB,GAAG,EAAE,OAAO;YACZ,GAAG,EAAE,IAAI,CAAC,OAAO;YACjB,KAAK,EAAE;gBACL,IAAI,EAAE,OAAO;gBACb,IAAI,EAAE,MAAM;gBACZ,QAAQ,UAAA;aACT;YACD,QAAQ,EAAE,IAAI,CAAC,QAAQ;SACxB;QACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAClC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QACxC,IAAI,CAAC,mBAAmB,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;KACjD;;;;IAED,qCAAa;;;IAAb;;YACQ,QAAQ,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,mBAAmB;;YAC1D,QAAQ,GAAG;YACf,GAAG,EAAE,KAAK;YACV,GAAG,EAAE,IAAI,CAAC,OAAO;YACjB,KAAK,EAAE;gBACL,IAAI,EAAE,KAAK;gBACX,WAAW,EAAE,IAAI,CAAC,aAAa;gBAC/B,SAAS,EAAE,IAAI,CAAC,WAAW;gBAC3B,QAAQ,UAAA;aACT;YACD,QAAQ,EAAE,IAAI,CAAC,QAAQ;SACxB;QACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAChC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACvE,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,iBAAiB,EAClH,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,CAAC;KAC9B;;;;;IAGD,2CAAmB;;;;IAAnB,UAAoB,IAAY;;YACxB,aAAa,GAAG;YACpB,GAAG,EAAE,WAAW;YAChB,GAAG,EAAE,IAAI,CAAC,OAAO;YACjB,KAAK,EAAE;gBACL,IAAI,MAAA;gBACJ,WAAW,EAAE,YAAY;aAC1B;YACD,QAAQ,EAAE,IAAI,CAAC,QAAQ;SACxB;QACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACrC,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;;YAC3C,aAAa,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM;YACrE,aAAa,EAAE,gBAAgB,EAAE,UAAU,EAAE,kBAAkB;YAC/D,MAAM,EAAE,WAAW,EAAE,UAAU,EAAE,YAAY,EAAE,eAAe;YAC9D,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,EAAE,YAAY,EAAG,mBAAmB;SAC7E;QACD,IAAI,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;YAChC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,YAAY,CAAC,CAAC;SACpE;KAEF;;;;;;;;IAED,yCAAiB;;;;;;;IAAjB,UAAkB,SAAiB,EAAE,SAAiB,EAAE,UAAU,EAAE,OAAO;;YACnE,iBAAiB,GAAG;YACxB,GAAG,EAAE,OAAO;YACZ,KAAK,EAAE;gBACL,GAAG,EAAE,SAAS;gBACd,OAAO,EAAE,SAAS;gBAClB,SAAS,EAAE,OAAO,IAAI,EAAE;gBACxB,UAAU,EAAE,CAAC,UAAU,IAAI,UAAU,CAAC,QAAQ,EAAE,KAAK,EAAE;aACxD;SACF;QACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACzC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,SAAS,EAAG,SAAS,EAAG,UAAU,CAAC,CAAC;KACnE;;gBAzJF,UAAU,SAAC;oBACV,UAAU,EAAE,MAAM;iBACnB;;;;gBANQ,yBAAyB;gBACzB,WAAW;gBAJX,UAAU;;;wBAAnB;CAOA,IA2JC;;;IAtJC,oCAA2B;;IAC3B,kCAAyB;;;;;IACzB,gCAAwB;;IACxB,oCAA6C;;IAC7C,oCAA2B;;IAC3B,0CAAkC;;IAClC,qCAA4B;;IAC5B,iCAAwB;;IACxB,yCAAgC;;IAChC,iCAAwB;;IACxB,iCAAqB;;IACrB,4CAAmC;;IACnC,oCAAmB;;IACnB,sCAAqB;;IACrB,0CAAyB;;IACzB,oCAAmB;;IACnB,sCAAqB;;IACrB,yCAAkD;;IAClD,gCAAuB;;IACvB,2CAAkC;;;;;IAClC,gCAAqB;;;;;IAGT,2CAAqD;;;;;IAC/D,oCAAgC;;;;;IAChC,6BAAwB;;;;;;;;ICC1B,qCACS,kBAA6C,EAC7C,aAA4B,EAC5B,GAAsB,EACrB,SAAoB,EACrB,YAA0B;QALnC,iBAkDC;QAjDQ,uBAAkB,GAAlB,kBAAkB,CAA2B;QAC7C,kBAAa,GAAb,aAAa,CAAe;QAC5B,QAAG,GAAH,GAAG,CAAmB;QACrB,cAAS,GAAT,SAAS,CAAW;QACrB,iBAAY,GAAZ,YAAY,CAAc;QAvBzB,mBAAc,GAAsB,IAAI,YAAY,EAAO,CAAC;QAEtE,cAAS,GAAG,QAAQ,CAAC;QAIrB,iBAAY,GAAG,IAAI,CAAC;QACpB,mBAAc,GAAG;YACf,SAAS,EAAE,IAAI;YACf,YAAY,EAAE,IAAI;YAClB,UAAU,EAAE,IAAI;YAChB,QAAQ,EAAE,IAAI;SACf,CAAC;QAGF,aAAQ,GAAG,KAAK,CAAC;QAUf,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;QAClD,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,SAAS;;;;QAAC,UAAA,KAAK;YAC5C,IAAG,KAAK,CAAC,IAAI,KAAK,OAAO,EAAE;gBACzB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;aAC1B;YACD,IAAG,KAAK,CAAC,IAAI,KAAK,MAAM,EAAE;gBACxB,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;aACvB;YACD,IAAI,KAAK,CAAC,IAAI,KAAK,WAAW,EAAE;gBAC9B,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;aAC3C;YACD,IAAI,KAAK,CAAC,IAAI,KAAK,OAAO,EAAE;gBAC1B,KAAI,CAAC,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC;gBACtC,KAAI,CAAC,aAAa,CAAC,aAAa,EAAE,CAAC;gBACnC,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aACxB;YACD,IAAI,KAAK,CAAC,IAAI,KAAK,OAAO,EAAE;;oBACtB,IAAI,GAAG,SAAS,CAAC,gBAAgB;;oBACnC,OAAO,GAAG,YAAY,CAAC,gBAAgB;gBAEzC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;oBACnB,IAAI,GAAG,SAAS,CAAC,oBAAoB;wBACrC,OAAO,GAAG,YAAY,CAAC,oBAAoB,CAAA;iBAC9C;gBACD,IAAI,KAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE;oBACvC,IAAI,GAAG,SAAS,CAAC,gBAAgB;wBACjC,OAAO,GAAG,YAAY,CAAC,gBAAgB,CAAA;iBAC1C;gBACD,IAAI,IAAI,KAAK,SAAS,CAAC,gBAAgB,EAAE;oBACvC,KAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;iBAC9B;gBACD,KAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,KAAI,CAAC,OAAO,CAAC,CAAC;aAE1E;;gBACK,MAAM,GAAG,CAAC,EAAE,IAAI,EAAE,cAAc,EAAE,cAAc,EAAE,eAAe,EAAE,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,cAAc,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,cAAc,EAAE,YAAY,EAAE;gBAC5K,EAAE,IAAI,EAAE,YAAY,EAAE,cAAc,EAAE,aAAa,EAAE,CAAC;YACtD,MAAM,CAAC,OAAO;;;;YAAC,UAAA,IAAI;gBACjB,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE;oBAC5B,KAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;iBAC7D;aACF,EAAC,CAAC;SACJ,EAAC,CAAC;KACJ;;;;;IAGD,sDAAgB;;;;IADhB,UACiB,KAAK;QACpB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;KACxC;;;;IAED,8CAAQ;;;IAAR;QAAA,iBAeC;QAdC,WAAW;;;QAAC;YACV,IAAI,CAAC,KAAI,CAAC,QAAQ,EAAE;gBAClB,KAAI,CAAC,YAAY,GAAG,KAAK,CAAC;aAC3B;SACF,GAAE,IAAI,CAAC,CAAC;;QAGT,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QACnD,IAAI,CAAC,cAAc,gBAAQ,IAAI,CAAC,cAAc,EAAK,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAE,CAAC;QACvF,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACjD,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAGvD;;;;;IAED,sDAAgB;;;;IAAhB,UAAiB,KAAK;QACpB,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACjD;;;;IAED,qDAAe;;;IAAf;QAAA,iBAiBC;;YAhBO,kBAAkB,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa;QAC5D,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB,EAAE,WAAW;;;QAAE;YAC9E,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC1B,EAAC,CAAC;QAEH,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB,EAAE,YAAY;;;QAAE;YAChF,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC1B,EAAC,CAAC;;YAEG,uBAAuB,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,oBAAoB,CAAC;QAChF,IAAI,uBAAuB,EAAE;;gBACrB,sBAAsB,GAAG,IAAI,CAAC,YAAY,CAAC,yBAAyB,CAAC,uBAAuB,CAAC;YACnG,IAAI,CAAC,sBAAsB,CAAC,cAAc,CAAC,EAAE;gBAC3C,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,SAAS,CAAC,oBAAoB,EAAE,YAAY,CAAC,oBAAoB,EAAE,sBAAsB,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;aACnK;SACF;KACF;;;;;IAED,mDAAa;;;;IAAb,UAAc,KAAK;QAAnB,iBAcC;QAbC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7B,IAAI,KAAK,KAAK,UAAU,EAAE;YACxB,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;;YACK,MAAM,GAAG,CAAC,OAAO,EAAE,eAAe,EAAE,MAAM,EAAE,YAAY,CAAC;QAC/D,MAAM,CAAC,OAAO;;;;QAAC,UAAA,IAAI;YACjB,IAAI,KAAK,KAAK,IAAI,EAAE;gBAClB,KAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;aAC9C;YACD,IAAI,KAAK,KAAK,MAAM,EAAE;gBACpB,KAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aACxD;SACF,EAAC,CAAC;KACJ;;;;;IAED,iDAAW;;;;IAAX,UAAY,KAAK;QACf,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;KACpD;;;;;IAED,mDAAa;;;;IAAb,UAAc,KAAK;QACjB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7B,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC1B,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;KAClD;;;;;IAED,iDAAW;;;;IAAX,UAAY,KAAK;QACf,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7B,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;KAChD;;;;IAED,mDAAa;;;IAAb;;YACQ,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC;QACrC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;QACxC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;QAC5C,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QACpB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QAC7B,CAAC,CAAC,KAAK,EAAE,CAAC;QACV,CAAC,CAAC,MAAM,EAAE,CAAC;QACX,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;KACpD;;;;IAGD,iDAAW;;;IADX;QAEE,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,CAAC;QACnC,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,iBAAiB,EAAE,CAAC;KAC1B;;gBA5KF,SAAS,SAAC;oBACT,QAAQ,EAAE,sBAAsB;oBAChC,qpCAAoD;;iBAErD;;;;gBALQ,yBAAyB;gBADzB,aAAa;gBAPpB,iBAAiB;gBACmC,SAAS;gBAEtD,YAAY;;;+BAalB,KAAK;yBACL,KAAK;8BACL,MAAM;iCACN,MAAM;iCACN,SAAS,SAAC,aAAa,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;mCAqEzC,YAAY,SAAC,yBAAyB,EAAE,CAAC,QAAQ,CAAC;8BAuFlD,YAAY,SAAC,qBAAqB;;IAMrC,kCAAC;CA7KD,IA6KC;;;IAtKC,mDAAoC;;IACpC,6CAAwD;;IACxD,kDAA4C;;IAC5C,qDAAsE;;IACtE,qDAAuE;;IACvE,gDAAqB;;IACrB,8CAAuB;;IACvB,kDAAwB;;IACxB,uDAA0B;;IAC1B,mDAAoB;;IACpB,qDAKE;;;;;IACF,yDAAuC;;;;;IACvC,wDAAsC;;IACtC,+CAAiB;;IAIf,yDAAoD;;IACpD,oDAAmC;;IACnC,0CAA6B;;;;;IAC7B,gDAA4B;;IAC5B,mDAAiC;;;;;;;AC3CrC;IAiCE,8BAAmB,aAA4B,EAAU,SAAoB;QAA1D,kBAAa,GAAb,aAAa,CAAe;QAAU,cAAS,GAAT,SAAS,CAAW;QAtB7E,uBAAkB,GAAG,KAAK,CAAC;QAC3B,sBAAiB,GAAG,KAAK,CAAC;QAC1B,mBAAc,GAAG,IAAI,CAAC;QACtB,oBAAe,GAAG,KAAK,CAAC;QACxB,iBAAY,GAAG,IAAI,CAAC;QACpB,uBAAkB,GAAG,MAAM,CAAC;QAO5B,sBAAiB,GAAG,CAAC,CAAC;QACtB,iBAAY,GAAG,CAAC,CAAC;QACjB,gBAAW,GAAG,CAAC,CAAC;QAChB,cAAS,GAAG,IAAI,CAAC;QACjB,SAAI,GAAG,EAAE,CAAC;QAEV,mBAAc,GAAG,CAAC,CAAC;QACnB,wBAAmB,GAAG,KAAK,CAAC;KAGsD;;;;IAElF,8CAAe;;;IAAf;QAAA,iBA8CC;QA7CC,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE,CAAC,IAAI;;;;QAAC,UAAA,OAAO;YAChD,KAAI,CAAC,MAAM,GAAG,OAAO,CAAC,KAAI,CAAC,MAAM,CAAC,aAAa,EAAE;gBAC/C,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,OAAO;gBAChB,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;gBAC/B,UAAU,EAAE;oBACV,QAAQ,EAAE,CAAC,YAAY,EAAE,aAAa,EAAE,iBAAiB;wBACvD,iBAAiB,EAAE,sBAAsB;wBACzC,wBAAwB,EAAE,kBAAkB,CAAC;iBAChD;aACF;;;YAAE,SAAS,MAAM;aAEjB,EAAC,CAAC;YACH,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC,CAAA;YACpD,KAAI,CAAC,cAAc,EAAE,CAAC;SACvB,EAAC,CAAC;QAEH,WAAW;;;QAAC;YACV,IAAI,CAAC,KAAI,CAAC,mBAAmB,IAAI,KAAI,CAAC,kBAAkB,KAAK,OAAO,EAAE;gBACpE,KAAI,CAAC,YAAY,GAAG,KAAK,CAAC;aAC3B;SACF,GAAE,IAAI,CAAC,CAAC;QAET,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,WAAW;;;QAAE;YAC3F,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC1B,EAAC,CAAC;QACH,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,YAAY;;;QAAE;YAC7F,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC1B,EAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,SAAS;;;;QAAC,UAAA,KAAK;YACjD,IAAI,KAAK,KAAK,WAAW,EAAE;gBAAE,KAAI,CAAC,KAAK,EAAE,CAAC;aAAE;YAC5C,IAAI,KAAK,KAAK,YAAY,EAAE;gBAAE,KAAI,CAAC,IAAI,EAAE,CAAC;aAAE;SAC7C,EAAC,CAAC;QAEH,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS;;;;QAAC,UAAC,EAAc;gBAAb,kBAAM,EAAE,cAAI;YAC5D,IAAG,MAAM,KAAK,MAAM,EAAE;gBACpB,KAAI,CAAC,IAAI,EAAE,CAAC;aACb;iBAAM,IAAG,MAAM,KAAK,OAAO,EAAE;gBAC5B,KAAI,CAAC,KAAK,EAAE,CAAC;aACd;iBAAM,IAAG,MAAM,KAAK,QAAQ,EAAE;gBAC7B,KAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;aACtC;SACF,EAAC,CAAC;KACJ;;;;IAED,6CAAc;;;IAAd;QAAA,iBA+CC;;YA9CO,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;QAClC,IAAI,OAAO,KAAK,SAAS,EAAE;YACzB,OAAO,CAAC,KAAK;;;;YAAC,UAAA,KAAK;gBACjB,KAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;aACjC,EAAC,CAAC;SACJ;;YAEK,MAAM,GAAG,CAAC,WAAW,EAAE,MAAM,EAAE,OAAO,EAAE,gBAAgB;YAC5D,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,cAAc;YACnE,YAAY,CAAC;QAEf,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,kBAAkB;;;;QAAE,UAAC,IAAI;;YAEtC,IAAG,KAAI,CAAC,MAAM,CAAC,YAAY,EAAE,EAAE;gBAC7B,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,KAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;aACjF;YACD,KAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,YAAY,CAAC,CAAC;SACtD,EAAC,CAAA;QAEF,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO;;;;QAAE,UAAC,IAAI;YAC3B,KAAI,CAAC,KAAK,EAAE,CAAC;SACd,EAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM;;;;QAAE,UAAC,IAAI;YAC1B,KAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC;YACjC,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,KAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,KAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;YAC/C,KAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;SAClC,EAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY;;;;QAAE,UAAC,IAAI;YAChC,KAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YAC/B,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1C,IAAI,KAAI,CAAC,MAAM,CAAC,WAAW,EAAE,KAAK,KAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE;gBACxD,KAAI,CAAC,mBAAmB,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;gBAC5C,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;aACxD;SACF,EAAC,CAAC;QACH,MAAM,CAAC,OAAO;;;;QAAC,UAAA,KAAK;YAClB,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK;;;;YAAE,UAAC,IAAI;gBACzB,KAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gBAC/B,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC3C,EAAC,CAAC;SACJ,EAAC,CAAC;KAEJ;;;;IAED,wDAAyB;;;IAAzB;QACE,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE;YACpE,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;SAChC;QACD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE;YAC/C,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;SACjC;KACF;;;;IAED,mCAAI;;;IAAJ;QACE,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;QACnB,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC;QACjC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,yBAAyB,EAAE,CAAC;KAClC;;;;IAED,oCAAK;;;IAAL;QACE,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC;QAClC,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACjC,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;KACjD;;;;IAED,uCAAQ;;;IAAR;QACE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/D,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACjC,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;KACpD;;;;IAED,sCAAO;;;IAAP;QACE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/D,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACjC,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;KACnD;;;;;IAED,kDAAmB;;;;IAAnB,UAAoB,EAAQ;YAAN,cAAI;QACxB,IAAI,IAAI,KAAK,SAAS,EAAE;YACtB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC7B;QACD,IAAI,IAAI,KAAK,OAAO,EAAE;YACpB,IAAI,CAAC,cAAc,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC;YAC7D,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC;YACvD,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;YAC7D,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YACxD,IAAI,CAAC,0BAA0B,CAAC,EAAE,IAAI,MAAA,EAAE,CAAC,CAAC;SAC3C;QACD,IAAI,IAAI,KAAK,OAAO,EAAE;YACpB,IAAI,CAAC,cAAc,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC;YAC7D,IAAI,CAAC,0BAA0B,CAAC,EAAE,IAAI,MAAA,EAAE,CAAC,CAAC;SAC3C;QACD,IAAI,IAAI,KAAK,MAAM,EAAE;YACnB,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;YACtC,IAAI,CAAC,0BAA0B,CAAC,EAAE,IAAI,MAAA,EAAE,CAAC,CAAC;SAC3C;QAED,IAAI,IAAI,KAAK,WAAW,EAAE;YACxB,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;SACvC;;QAGD,IAAI,IAAI,KAAK,YAAY,EAAE;YACzB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC;YACrC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;YAC7C,IAAI,CAAC,yBAAyB,EAAE,CAAC;SAClC;QACD,IAAI,IAAI,KAAK,SAAS,EAAE;YACtB,IAAI,IAAI,CAAC,SAAS,KAAK,IAAI,EAAE;gBAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC;aAAE;SACrE;QACD,IAAI,IAAI,KAAK,QAAQ,EAAE;YACrB,IAAI,CAAC,0BAA0B,CAAC,EAAE,IAAI,MAAA,EAAE,CAAC,CAAC;YAC1C,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,EAAE;gBACrC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;aACvF;iBAAM,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,EAAE;gBAC5C,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;aACvF;YACD,IAAI,CAAC,aAAa,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC;YAC9D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACvB;KACF;;;;;IAED,yDAA0B;;;;IAA1B,UAA2B,EAAQ;YAAN,cAAI;QAC/B,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QACnE,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC;QAC5E,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;;YACxD,MAAM,GAAG,EAAE;QACjB,MAAM,CAAC,IAAI,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;QAC9C,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAClD;;;;IACD,0CAAW;;;IAAX;QACE,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;SACvB;QACD,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC/B,IAAI,CAAC,wBAAwB,EAAE,CAAC;KACjC;;gBApOF,SAAS,SAAC;oBACT,QAAQ,EAAE,cAAc;oBACxB,wtMAA4C;oBAE5C,aAAa,EAAE,iBAAiB,CAAC,IAAI;;iBACtC;;;;gBAPQ,aAAa;gBAFyB,SAAS;;;yBAmBrD,KAAK;yBACL,SAAS,SAAC,QAAQ,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;6BACpC,SAAS,SAAC,YAAY,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;;IAoN3C,2BAAC;CArOD,IAqOC;;;IA9NC,kDAA2B;;IAC3B,iDAA0B;;IAC1B,8CAAsB;;IACtB,+CAAwB;;IACxB,4CAAoB;;IACpB,kDAA4B;;;;;IAC5B,uDAA4C;;;;;IAC5C,wDAA6C;;IAC7C,sCAAgC;;IAChC,sCAA0D;;IAC1D,0CAAkE;;IAClE,sCAAY;;IACZ,iDAAsB;;IACtB,4CAAiB;;IACjB,2CAAgB;;IAChB,yCAAiB;;IACjB,oCAAU;;IACV,yCAAU;;IACV,8CAAmB;;IACnB,mDAA4B;;;;;IAC5B,kDAAyC;;IAE7B,6CAAmC;;;;;IAAE,yCAA4B;;;;;;;ACjC/E;IAQA;KAUyC;;gBAVxC,QAAQ,SAAC;oBACR,YAAY,EAAE,CAAC,2BAA2B,EAAE,oBAAoB,CAAC;oBACjE,OAAO,EAAE;wBACP,YAAY;wBACZ,WAAW;wBACX,gBAAgB;wBAChB,sBAAsB;qBACvB;oBACD,OAAO,EAAE,CAAC,2BAA2B,EAAG,sBAAsB,CAAC;iBAChE;;IACuC,+BAAC;CAVzC;;;;;;;;;;;;;;"}